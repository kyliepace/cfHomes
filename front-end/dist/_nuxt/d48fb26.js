(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{221:function(e,t,n){var content=n(239);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("f73a19da",content,!1,{sourceMap:!1})},222:function(e,t,n){var content=n(241);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("701c3d3e",content,!1,{sourceMap:!1})},223:function(e,t,n){var content=n(259);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("1b7833da",content,!1,{sourceMap:!1})},233:function(e){e.exports=JSON.parse('{"api":{"urls":{"crossfit":"getCrossfits","houses":"getZoopla","cloud_endpoint":{"production":"https://europe-west1-crossfit-homes.cloudfunctions.net","development":"http://localhost:8010"}}}}')},234:function(e,t,n){"use strict";n.r(t);n(28);var r,o,c=n(1),l="undefined"!=typeof window,d={};l&&(n(148),n(237),o=n(149),r=n(0),d=n(197)),d=n(197),c.a.component("v-map",d.LMap),c.a.component("v-tilelayer",d.LTileLayer),c.a.component("v-geojson-layer",d.LGeoJson),c.a.component("v-marker",d.LMarker),c.a.component("v-popup",d.LPopup);var f={name:"myMap",data:function(){return{tsUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:8,center:[53.1,-2.4],inertia:!0,minZoom:3,maxZoom:18,cfOptions:{style:function(){return{weight:2,fillColor:"black",color:"black"}},pointToLayer:function(e,t){return l?r.circle(t,10,{radius:41,fillColor:"black"}):void 0},onEachFeature:function(e,t){t.bindPopup('<a href="'+e.properties.website+'" target="_blank">'+e.properties.name+"</a>")}},reOptions:{pointToLayer:function(e,t){return l?r.marker(t,{icon:r.icon({iconUrl:o,iconSize:[20,40]})}):void 0},onEachFeature:function(e,t){t.bindPopup(e.properties.name+"<br/>"+e.properties.category)}}}},props:["cfGeoJson","reGeoJson","handleMove"],methods:{centerUpdated:function(e){this.handleMove(e)}}},v=(n(238),n(32)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mapDiv"}},[n("client-only",[n("v-map",{attrs:{minZoom:e.minZoom,maxZoom:e.maxZoom,inertia:"inertia",zoom:e.zoom,center:e.center},on:{"update:center":e.centerUpdated}},[n("v-tilelayer",{attrs:{url:e.tsUrl}}),e._v(" "),""!==e.cfGeoJson?n("v-geojson-layer",{attrs:{geojson:e.cfGeoJson,options:e.cfOptions}}):e._e(),e._v(" "),""!==e.reGeoJson?n("v-geojson-layer",{attrs:{geojson:e.reGeoJson,options:e.reOptions}}):e._e()],1)],1)],1)}),[],!1,null,"7a77c93a",null);t.default=component.exports},235:function(e,t,n){"use strict";n.r(t);var r={name:"AddressSearch",data:function(){return{distance:10,units:"miles",categoryId:["4bf58dd8d48988d114951735","4bf58dd8d48988d1f9941735"]}},props:["handleClick"],methods:{onClick:function(){this.handleClick({categoryId:this.categoryId,radiusOptions:{distance:this.distance,units:this.units}})}}},o=(n(240),n(32)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.categoryId,expression:"categoryId"}],attrs:{multiple:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.categoryId=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:""}},[e._v("Categories")]),e._v(" "),n("option",{attrs:{value:"4bf58dd8d48988d114951735",selected:""}},[e._v("Bookstore")]),e._v(" "),n("option",{attrs:{value:"4bf58dd8d48988d1f9941735",selected:""}},[e._v("Snacks")]),e._v(" "),n("option",{attrs:{value:"4d4b7104d754a06370d81259"}},[e._v("Arts & Entertainment")]),e._v(" "),n("option",{attrs:{value:"4d4b7105d754a06374d81259"}},[e._v("Food")]),e._v(" "),n("option",{attrs:{value:"4bf58dd8d48988d10a951735"}},[e._v("Bank")]),e._v(" "),n("option",{attrs:{value:"4bf58dd8d48988d10d951735"}},[e._v("Record Shop")]),e._v(" "),n("option",{attrs:{value:"4bf58dd8d48988d1ed941735"}},[e._v("Spa")])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.distance,expression:"distance",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.distance},on:{input:function(t){t.target.composing||(e.distance=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.units,expression:"units"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.units=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:""}},[e._v("Units")]),e._v(" "),n("option",{attrs:{value:"miles"}},[e._v("miles")]),e._v(" "),n("option",{attrs:{value:"kilometers"}},[e._v("kilometers")])]),e._v(" "),n("button",{on:{click:e.onClick,enter:e.onClick}},[e._v("Search")])])}),[],!1,null,"5af65100",null);t.default=component.exports},238:function(e,t,n){"use strict";var r=n(221);n.n(r).a},239:function(e,t,n){(t=n(49)(!1)).push([e.i,"#mapDiv[data-v-7a77c93a]{height:80vh;width:90%;margin:auto;border:1px solid #000}",""]),e.exports=t},240:function(e,t,n){"use strict";var r=n(222);n.n(r).a},241:function(e,t,n){(t=n(49)(!1)).push([e.i,"input[data-v-5af65100]{padding:5px}",""]),e.exports=t},258:function(e,t,n){"use strict";var r=n(223);n.n(r).a},259:function(e,t,n){(t=n(49)(!1)).push([e.i,'#main{font-family:"Avenir",Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}#loading{position:absolute;top:150px;right:51%;left:49%}#searchForm{margin:70px auto 40px}',""]),e.exports=t},260:function(e,t,n){"use strict";n.r(t);n(35),n(103),n(51),n(36),n(104),n(105),n(76),n(37);var r=n(71),o=(n(27),n(7)),c=n(236),l=n.n(c),d=n(234),f=n(235),v=n(224),m=n.n(v),h=n(233);function y(){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h.api.urls.cloud_endpoint.production,"/").concat(h.api.urls.crossfit),n={method:"POST",url:t},e.next=4,m.a.request(n);case 4:return r=e.sent,console.log("".concat(r.data.features.length," crossfits received: ")),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(233);function x(){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(regeneratorRuntime.mark((function e(){var data,t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data=o.length>0&&void 0!==o[0]?o[0]:{},t="".concat(w.api.urls.cloud_endpoint.production,"/").concat(w.api.urls.houses),n={method:"POST",url:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:data},e.next=5,m.a.request(n);case 5:return r=e.sent,console.log("".concat(r.data.features.length," locations received ")),e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var J={name:"app",components:{MyMap:d.default,AddressSearch:f.default,CubeSpin:l.a},data:function(){return{errors:[],instructions:"Find places near a crossfit. To find places, zoom in closer to a crossfit location, and adjust the query parameters using the form below.",crossFitGeoJson:"",locationGeoJson:"",showLoader:!1,propertyLength:"",center:""}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCrossfits();case 2:case"end":return t.stop()}}),t)})))()},methods:{findVenuesByCenter:function(e){var t="".concat(e.lat,",").concat(e.lng);return this.center=t,this.findVenues({center:t})},getCrossfits:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y();case 3:e.crossFitGeoJson=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message),e.errors.push(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},findVenues:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.showLoader=!0,n.prev=1,n.next=4,x(j({center:t.center},e));case 4:t.locationGeoJson=n.sent,t.propertyLength=t.locationGeoJson.length,t.showLoader=!1,n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0.message),t.errors.push(n.t0),t.showLoader=!1;case 14:case"end":return n.stop()}}),n,null,[[1,9]])})))()}}},C=(n(258),n(32)),component=Object(C.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("h3",[e._v("Find Places Near Crossfits")]),e._v(" "),e.showLoader?n("p",{attrs:{id:"loading"}}):e._e(),e._v(" "),e.propertyLength>0?n("p",[e._v(e._s(e.propertyLength)+" results")]):n("p",[e._v(e._s(e.instructions))]),e._v(" "),n("AddressSearch",{attrs:{id:"searchForm",handleClick:e.findVenues}}),e._v(" "),n("MyMap",{attrs:{cfGeoJson:e.crossFitGeoJson,reGeoJson:e.locationGeoJson,handleMove:e.findVenuesByCenter}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AddressSearch:n(235).default,MyMap:n(234).default})}}]);